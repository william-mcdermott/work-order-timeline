<div class="overlay" (click)="onBackdropClick()">
  <aside class="panel" (click)="onPanelClick($event)">
    <header class="panel__header">
      <div class="panel__title">{{ titleText() }}</div>
      <button class="icon-btn" type="button" (click)="close.emit()">âœ•</button>
    </header>

    <div class="panel__body" [formGroup]="form">
      <div class="alert alert--error" *ngIf="externalError">
        {{ externalError }}
      </div>

      <div class="field">
        <label class="label">Work Order Name</label>
        <input class="input" type="text" formControlName="name" placeholder="e.g., Assemble Unit K" />
        <div class="error" *ngIf="showNameRequired()">Name is required.</div>
      </div>

      <div class="field">
        <label class="label">Status</label>

        <ng-select
          class="ngs"
          formControlName="status"
          [items]="statusOptions"
          bindLabel="label"
          bindValue="value"
          [clearable]="false"
          [searchable]="false"
          placeholder="Select status"
        >
        </ng-select>
      </div>

      <div class="field">
        <label class="label">Start Date</label>

        <div class="date-row">
          <input
            class="input date-input"
            formControlName="startDate"
            ngbDatepicker
            #sd="ngbDatepicker"
            (click)="sd.open()"
            readonly
          />
          <button class="date-btn" type="button" (click)="sd.toggle()">ğŸ“…</button>
        </div>

        <div class="error" *ngIf="showStartRequired()">Start date is required.</div>
      </div>

      <div class="field">
        <label class="label">End Date</label>

        <div class="date-row">
          <input
            class="input date-input"
            formControlName="endDate"
            ngbDatepicker
            #ed="ngbDatepicker"
            (click)="ed.open()"
            readonly
          />
          <button class="date-btn" type="button" (click)="ed.toggle()">ğŸ“…</button>
        </div>

        <div class="error" *ngIf="showEndRequired()">End date is required.</div>
        <div class="error" *ngIf="showDateOrderError()">End date must be on/after start date.</div>
      </div>

      <!-- @upgrade: Custom ngb-datepicker styling to match Sketch exactly -->
      <!-- @upgrade: Replace separate pickers with a true range picker UX -->
    </div>

    <footer class="panel__footer">
      <button class="btn btn--ghost" type="button" (click)="onCancel($event)">Cancel</button>
      <button class="btn btn--primary" type="button" (click)="onSubmit($event)">
        {{ primaryCtaText() }}
      </button>
    </footer>
  </aside>
</div>
